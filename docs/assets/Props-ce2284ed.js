var De=Object.defineProperty;var Fe=(e,t,o)=>t in e?De(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var pe=(e,t,o)=>(Fe(e,typeof t!="symbol"?t+"":t,o),o);import{a6 as ke,s as H,u as le,y as _e,A as M,l as q,a7 as re,a8 as ie,D as J,n as w,L as k,M as ce,K as he,o as R,c as L,S as Pe,T as x,a2 as Ve,a3 as ge,a9 as Ae,aa as Re,k as j,P as ye,ab as ze,b as l,Y as K,ac as Me,ad as Le,ae as je,af as W,ag as Ue,ah as Ie,ai as Ke,U as Ce,aj as ve,z as We,q as He,C as qe,ak as fe,al as Je,am as Ye,i as Xe,R as Ge,a as Qe,a5 as Ze,an as et,O as ue,V as de,_ as Y,w as z,F as tt,e as E,r as I,W as at}from"./index-cd3cb997.js";import{_ as $e}from"./PCodeBlockDisplay-dae1e0dd.js";import{_ as X}from"./PCodeBlock-46730204.js";import"./CodeBlock.vue_vue_type_style_index_0_scoped_43392a15_lang-dc153432.js";import{U as Ne}from"./event-43d54cf5.js";import{u as st}from"./index-bc0bca94.js";import"./el-button-74933914.js";import"./use-form-common-props-55839fd0.js";import"./CleanCode-931345d6.js";const F=e=>ke(e),G=Symbol("tabsRootContextKey"),nt=H({tabs:{type:le(Array),default:()=>_e([])}}),we="ElTabBar",ot=M({name:we}),lt=M({...ot,props:nt,setup(e,{expose:t}){const o=e,u=q(),a=re(G);a||ie(we,"<el-tabs><el-tab-bar /></el-tabs>");const s=J("tabs"),n=w(),g=w(),b=()=>{let f=0,m=0;const p=["top","bottom"].includes(a.props.tabPosition)?"width":"height",c=p==="width"?"x":"y",D=c==="x"?"left":"top";return o.tabs.every(S=>{var T,r;const P=(r=(T=u.parent)==null?void 0:T.refs)==null?void 0:r[`tab-${S.uid}`];if(!P)return!1;if(!S.active)return!0;f=P[`offset${F(D)}`],m=P[`client${F(p)}`];const C=window.getComputedStyle(P);return p==="width"&&(o.tabs.length>1&&(m-=Number.parseFloat(C.paddingLeft)+Number.parseFloat(C.paddingRight)),f+=Number.parseFloat(C.paddingLeft)),!1}),{[p]:`${m}px`,transform:`translate${F(c)}(${f}px)`}},_=()=>g.value=b();return k(()=>o.tabs,async()=>{await ce(),_()},{immediate:!0}),he(n,()=>_()),t({ref:n,update:_}),(f,m)=>(R(),L("div",{ref_key:"barRef",ref:n,class:Pe([x(s).e("active-bar"),x(s).is(x(a).props.tabPosition)]),style:Ve(g.value)},null,6))}});var rt=ge(lt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const it=H({panes:{type:le(Array),default:()=>_e([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),ct={tabClick:(e,t,o)=>o instanceof Event,tabRemove:(e,t)=>t instanceof Event},me="ElTabNav",ut=M({name:me,props:it,emits:ct,setup(e,{expose:t,emit:o}){const u=q(),a=re(G);a||ie(me,"<el-tabs><tab-nav /></el-tabs>");const s=J("tabs"),n=Ae(),g=Re(),b=w(),_=w(),f=w(),m=w(),p=w(!1),c=w(0),D=w(!1),S=w(!0),T=j(()=>["top","bottom"].includes(a.props.tabPosition)?"width":"height"),r=j(()=>({transform:`translate${T.value==="width"?"X":"Y"}(-${c.value}px)`})),P=()=>{if(!b.value)return;const d=b.value[`offset${F(T.value)}`],v=c.value;if(!v)return;const i=v>d?v-d:0;c.value=i},C=()=>{if(!b.value||!_.value)return;const d=_.value[`offset${F(T.value)}`],v=b.value[`offset${F(T.value)}`],i=c.value;if(d-i<=v)return;const $=d-i>v*2?i+v:d-v;c.value=$},V=async()=>{const d=_.value;if(!p.value||!f.value||!b.value||!d)return;await ce();const v=f.value.querySelector(".is-active");if(!v)return;const i=b.value,$=["top","bottom"].includes(a.props.tabPosition),N=v.getBoundingClientRect(),y=i.getBoundingClientRect(),O=$?d.offsetWidth-y.width:d.offsetHeight-y.height,B=c.value;let h=B;$?(N.left<y.left&&(h=B-(y.left-N.left)),N.right>y.right&&(h=B+N.right-y.right)):(N.top<y.top&&(h=B-(y.top-N.top)),N.bottom>y.bottom&&(h=B+(N.bottom-y.bottom))),h=Math.max(h,0),c.value=Math.min(h,O)},U=()=>{var d;if(!_.value||!b.value)return;e.stretch&&((d=m.value)==null||d.update());const v=_.value[`offset${F(T.value)}`],i=b.value[`offset${F(T.value)}`],$=c.value;i<v?(p.value=p.value||{},p.value.prev=$,p.value.next=$+i<v,v-$<i&&(c.value=v-i)):(p.value=!1,$>0&&(c.value=0))},Ee=d=>{const v=d.code,{up:i,down:$,left:N,right:y}=W;if(![i,$,N,y].includes(v))return;const O=Array.from(d.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),B=O.indexOf(d.target);let h;v===N||v===i?B===0?h=O.length-1:h=B-1:B<O.length-1?h=B+1:h=0,O[h].focus({preventScroll:!0}),O[h].click(),be()},be=()=>{S.value&&(D.value=!0)},Q=()=>D.value=!1;return k(n,d=>{d==="hidden"?S.value=!1:d==="visible"&&setTimeout(()=>S.value=!0,50)}),k(g,d=>{d?setTimeout(()=>S.value=!0,50):S.value=!1}),he(f,U),ye(()=>setTimeout(()=>V(),0)),ze(()=>U()),t({scrollToActiveTab:V,removeFocus:Q}),k(()=>e.panes,()=>u.update(),{flush:"post",deep:!0}),()=>{const d=p.value?[l("span",{class:[s.e("nav-prev"),s.is("disabled",!p.value.prev)],onClick:P},[l(K,null,{default:()=>[l(Me,null,null)]})]),l("span",{class:[s.e("nav-next"),s.is("disabled",!p.value.next)],onClick:C},[l(K,null,{default:()=>[l(Le,null,null)]})])]:null,v=e.panes.map((i,$)=>{var N,y,O,B;const h=i.uid,Z=i.props.disabled,ee=(y=(N=i.props.name)!=null?N:i.index)!=null?y:`${$}`,te=!Z&&(i.isClosable||e.editable);i.index=`${$}`;const Se=te?l(K,{class:"is-icon-close",onClick:A=>o("tabRemove",i,A)},{default:()=>[l(je,null,null)]}):null,Oe=((B=(O=i.slots).label)==null?void 0:B.call(O))||i.props.label,xe=!Z&&i.active?0:-1;return l("div",{ref:`tab-${h}`,class:[s.e("item"),s.is(a.props.tabPosition),s.is("active",i.active),s.is("disabled",Z),s.is("closable",te),s.is("focus",D.value)],id:`tab-${ee}`,key:`tab-${h}`,"aria-controls":`pane-${ee}`,role:"tab","aria-selected":i.active,tabindex:xe,onFocus:()=>be(),onBlur:()=>Q(),onClick:A=>{Q(),o("tabClick",i,ee,A)},onKeydown:A=>{te&&(A.code===W.delete||A.code===W.backspace)&&o("tabRemove",i,A)}},[Oe,Se])});return l("div",{ref:f,class:[s.e("nav-wrap"),s.is("scrollable",!!p.value),s.is(a.props.tabPosition)]},[d,l("div",{class:s.e("nav-scroll"),ref:b},[l("div",{class:[s.e("nav"),s.is(a.props.tabPosition),s.is("stretch",e.stretch&&["top","bottom"].includes(a.props.tabPosition))],ref:_,style:r.value,role:"tablist",onKeydown:Ee},[e.type?null:l(rt,{ref:m,tabs:[...e.panes]},null),v])])])}}}),dt=H({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:le(Function),default:()=>!0},stretch:Boolean}),ae=e=>We(e)||He(e),bt={[Ne]:e=>ae(e),tabClick:(e,t)=>t instanceof Event,tabChange:e=>ae(e),edit:(e,t)=>["remove","add"].includes(t),tabRemove:e=>ae(e),tabAdd:()=>!0};var pt=M({name:"ElTabs",props:dt,emits:bt,setup(e,{emit:t,slots:o,expose:u}){var a,s;const n=J("tabs"),{children:g,addChild:b,removeChild:_}=st(q(),"ElTabPane"),f=w(),m=w((s=(a=e.modelValue)!=null?a:e.activeName)!=null?s:"0"),p=r=>{m.value=r,t(Ne,r),t("tabChange",r)},c=async r=>{var P,C,V;if(!(m.value===r||ve(r)))try{await((P=e.beforeLeave)==null?void 0:P.call(e,r,m.value))!==!1&&(p(r),(V=(C=f.value)==null?void 0:C.removeFocus)==null||V.call(C))}catch{}},D=(r,P,C)=>{r.props.disabled||(c(P),t("tabClick",r,C))},S=(r,P)=>{r.props.disabled||ve(r.props.name)||(P.stopPropagation(),t("edit",r.props.name,"remove"),t("tabRemove",r.props.name))},T=()=>{t("edit",void 0,"add"),t("tabAdd")};return Ue({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},j(()=>!!e.activeName)),k(()=>e.activeName,r=>c(r)),k(()=>e.modelValue,r=>c(r)),k(m,async()=>{var r;await ce(),(r=f.value)==null||r.scrollToActiveTab()}),Ie(G,{props:e,currentName:m,registerPane:b,unregisterPane:_}),u({currentName:m}),()=>{const r=e.editable||e.addable?l("span",{class:n.e("new-tab"),tabindex:"0",onClick:T,onKeydown:V=>{V.code===W.enter&&T()}},[l(K,{class:n.is("icon-plus")},{default:()=>[l(Ke,null,null)]})]):null,P=l("div",{class:[n.e("header"),n.is(e.tabPosition)]},[r,l(ut,{ref:f,currentName:m.value,editable:e.editable,type:e.type,panes:g.value,stretch:e.stretch,onTabClick:D,onTabRemove:S},null)]),C=l("div",{class:n.e("content")},[Ce(o,"default")]);return l("div",{class:[n.b(),n.m(e.tabPosition),{[n.m("card")]:e.type==="card",[n.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[P,C]:[C,P]])}}});const vt=H({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),ft=["id","aria-hidden","aria-labelledby"],Be="ElTabPane",mt=M({name:Be}),_t=M({...mt,props:vt,setup(e){const t=e,o=q(),u=qe(),a=re(G);a||ie(Be,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const s=J("tab-pane"),n=w(),g=j(()=>t.closable||a.props.closable),b=fe(()=>{var c;return a.currentName.value===((c=t.name)!=null?c:n.value)}),_=w(b.value),f=j(()=>{var c;return(c=t.name)!=null?c:n.value}),m=fe(()=>!t.lazy||_.value||b.value);k(b,c=>{c&&(_.value=!0)});const p=Je({uid:o.uid,slots:u,props:t,paneName:f,active:b,index:n,isClosable:g});return ye(()=>{a.registerPane(p)}),Ye(()=>{a.unregisterPane(p.uid)}),(c,D)=>x(m)?Xe((R(),L("div",{key:0,id:`pane-${x(f)}`,class:Pe(x(s).b()),role:"tabpanel","aria-hidden":!x(b),"aria-labelledby":`tab-${x(f)}`},[Ce(c.$slots,"default")],10,ft)),[[Ge,x(b)]]):Qe("v-if",!0)}});var Te=ge(_t,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const ht=Ze(pt,{TabPane:Te}),Pt=et(Te);var gt=Object.defineProperty,yt=Object.getOwnPropertyDescriptor,Ct=(e,t,o,u)=>{for(var a=u>1?void 0:u?yt(t,o):t,s=e.length-1,n;s>=0;s--)(n=e[s])&&(a=(u?n(t,o,a):n(a))||a);return u&&a&&gt(t,o,a),a};let se=class extends de{get codeParent(){return`
        <scripts setup>
        import { ref } from 'vue'
        import Child from './Child.vue'
        const msg = ref('Hello World')
        <\/scripts>
        <template>
          <p>This is</p>
          <Child :msg="msg"/>
        </template>
        `}get codeChild(){return`
        <scripts setup>
        const props = defineProps(['msg'])
        <\/scripts>
        <template>
          <p>{{ props.msg }}</p>  
        </template>
        `}};se=Ct([ue({components:{PCodeBlock:X,PCodeBlockDisplay:$e}})],se);const $t=E("p",null,"1. 在子组件中使用defineProps=['msg']接收参数",-1),Nt=E("p",null,'2. 在父组件中使用<child :msg="msg"/>向子组件传递参数',-1),wt=E("div",null,[E("p",null,"This is"),E("p",null,"Hello World")],-1);function Bt(e,t,o,u,a,s){const n=X,g=$e;return R(),L(tt,null,[$t,l(n,{code:e.codeChild,title:"Child.vue",inDisplay:""},null,8,["code"]),Nt,l(g,{code:e.codeParent,title:"Parent.vue"},{default:z(()=>[wt]),_:1},8,["code"])],64)}const Tt=Y(se,[["render",Bt]]),Et=E("li",null,"“透传 attribute”指的是传递给一个组件，却没有被该组件声明为 props 或 emits 的 attribute 或者 v-on 事件监听器。 最常见的例子就是 class、style 和 id。",-1),St=E("li",null,"如果想禁用透传，可以在子组件设置inheritAttrs: false",-1),Ot=[Et,St],xt={__name:"Cross",setup(e){return(t,o)=>(R(),L("ol",null,Ot))}},Dt={},Ft=E("li",null,"类似ContextProvider和useContext",-1),kt=E("li",null,"在提供数据的组件使用provide(key:any,val:any|any[])函数发布数据",-1),Vt=E("li",null,"在接收数据的组件使用inject(key:any,defaultValue:any)函数接收数据",-1),At=E("li",null,"可以发布的数据包括函数",-1),Rt=[Ft,kt,Vt,At];function zt(e,t){return R(),L("ol",null,Rt)}const Mt=Y(Dt,[["render",zt]]);var Lt=Object.defineProperty,jt=Object.getOwnPropertyDescriptor,Ut=(e,t,o,u)=>{for(var a=u>1?void 0:u?jt(t,o):t,s=e.length-1,n;s>=0;s--)(n=e[s])&&(a=(u?n(t,o,a):n(a))||a);return u&&a&&Lt(t,o,a),a};let ne=class extends de{get code(){return`
        <!-- 虽然 \`42\` 是个常量，我们还是需要使用 v-bind -->
        <!-- 因为这是一个 JavaScript 表达式而不是一个字符串 -->
        <BlogPost :likes="42" />

        <!-- 根据一个变量的值动态传入 -->
        <BlogPost :likes="post.likes" />

        <!-- 仅写上 prop 但不传值，会隐式转换为 \`true\` -->
        <BlogPost is-published />

        <!-- 虽然 \`false\` 是静态的值，我们还是需要使用 v-bind -->
        <!-- 因为这是一个 JavaScript 表达式而不是一个字符串 -->
        <BlogPost :is-published="false" />

        <!-- 根据一个变量的值动态传入 -->
        <BlogPost :is-published="post.isPublished" />

        <!-- 虽然这个对象字面量是个常量，我们还是需要使用 v-bind -->
        <!-- 因为这是一个 JavaScript 表达式而不是一个字符串 -->
        <BlogPost
          :author="{
            name: 'Veronica',
            company: 'Veridian Dynamics'
          }"
        />

        <!-- 根据一个变量的值动态传入 -->
        <BlogPost :author="post.author" />
        `}};ne=Ut([ue({components:{PCodeBlock:X}})],ne);function It(e,t,o,u,a,s){const n=X;return R(),L("div",null,[l(n,{code:e.code},null,8,["code"])])}const Kt=Y(ne,[["render",It]]);var Wt=Object.defineProperty,Ht=Object.getOwnPropertyDescriptor,qt=(e,t,o,u)=>{for(var a=u>1?void 0:u?Ht(t,o):t,s=e.length-1,n;s>=0;s--)(n=e[s])&&(a=(u?n(t,o,a):n(a))||a);return u&&a&&Wt(t,o,a),a};let oe=class extends de{constructor(){super(...arguments);pe(this,"activePannel","1")}};oe=qt([ue({components:{Directly:Tt,Cross:xt,Provide:Mt,BaseView:Kt}})],oe);function Jt(e,t,o,u,a,s){const n=I("BaseView"),g=Pt,b=I("Directly"),_=I("Cross"),f=I("Provide"),m=ht;return R(),at(m,{modelValue:e.activePannel,"onUpdate:modelValue":t[0]||(t[0]=p=>e.activePannel=p)},{default:z(()=>[l(g,{label:"基础",name:"1"},{default:z(()=>[l(n)]),_:1}),l(g,{label:"直接传递",name:"2"},{default:z(()=>[l(b)]),_:1}),l(g,{label:"透传属性",name:"3"},{default:z(()=>[l(_)]),_:1}),l(g,{label:"依赖注入",name:"4"},{default:z(()=>[l(f)]),_:1})]),_:1},8,["modelValue"])}const ia=Y(oe,[["render",Jt]]);export{ia as default};

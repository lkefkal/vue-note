var Xe=Object.defineProperty;var Ze=(o,n,s)=>n in o?Xe(o,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[n]=s;var Ee=(o,n,s)=>(Ze(o,typeof n!="symbol"?n+"":n,s),s);import{_ as Pe}from"./PCodeBlockDisplay-62560921.js";import{j as Ve,k as v,l as $e,m as qe,n as k,s as q,q as G,u as Ge,x as Se,y as Je,z as Qe,A as ne,B as _e,C as et,D as se,G as ke,H as tt,I as at,J as ot,K as nt,L as st,M as lt,N as Ie,P as rt,Q as it,R as ut,S as ct,T as pt,U as $,W as Fe,X as dt,Y as ft,i as vt,Z as mt,o as m,c as E,a as h,F as J,$ as g,a0 as t,a1 as X,e as w,a2 as I,w as S,a3 as Z,a4 as O,a5 as le,b as z,a6 as ht,a7 as yt,a8 as bt,t as A,a9 as gt,aa as xt,ab as ze,ac as wt,V as Ct,O as Et,_ as St,h as R}from"./index-9eba7189.js";import{E as _t,a as It}from"./el-descriptions-item-552f52d1.js";import{U as re}from"./event-43d54cf5.js";import"./PCodeBlock-8022f343.js";import"./CleanCode-1b1e3292.js";const Ft=()=>Ve&&/firefox/i.test(window.navigator.userAgent),zt=o=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(o),Bt=["class","style"],Pt=/^on[A-Z]/,Vt=(o={})=>{const{excludeListeners:n=!1,excludeKeys:s}=o,a=v(()=>((s==null?void 0:s.value)||[]).concat(Bt)),l=$e();return l?v(()=>{var r;return qe(Object.entries((r=l.proxy)==null?void 0:r.$attrs).filter(([i])=>!a.value.includes(i)&&!(n&&Pt.test(i))))}):v(()=>({}))};function $t(o){const n=k();function s(){if(o.value==null)return;const{selectionStart:l,selectionEnd:r,value:i}=o.value;if(l==null||r==null)return;const x=i.slice(0,Math.max(0,l)),p=i.slice(Math.max(0,r));n.value={selectionStart:l,selectionEnd:r,value:i,beforeTxt:x,afterTxt:p}}function a(){if(o.value==null||n.value==null)return;const{value:l}=o.value,{beforeTxt:r,afterTxt:i,selectionStart:x}=n.value;if(r==null||i==null||x==null)return;let p=l.length;if(l.endsWith(i))p=l.length-i.length;else if(l.startsWith(r))p=r.length;else{const b=r[x-1],d=l.indexOf(b,x-1);d!==-1&&(p=d+1)}o.value.setSelectionRange(p,p)}return[s,a]}function kt(o,{afterFocus:n,afterBlur:s}={}){const a=$e(),{emit:l}=a,r=q(),i=k(!1),x=d=>{i.value||(i.value=!0,l("focus",d),n==null||n())},p=d=>{var f;d.relatedTarget&&((f=r.value)!=null&&f.contains(d.relatedTarget))||(i.value=!1,l("blur",d),s==null||s())},b=()=>{var d;(d=o.value)==null||d.focus()};return G(r,d=>{d&&(d.setAttribute("role","button"),d.setAttribute("tabindex","-1"))}),Ge(r,"click",b),{wrapperRef:r,isFocused:i,handleFocus:x,handleBlur:p}}let C;const At=`
  height:0 !important;
  visibility:hidden !important;
  ${Ft()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Dt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Tt(o){const n=window.getComputedStyle(o),s=n.getPropertyValue("box-sizing"),a=Number.parseFloat(n.getPropertyValue("padding-bottom"))+Number.parseFloat(n.getPropertyValue("padding-top")),l=Number.parseFloat(n.getPropertyValue("border-bottom-width"))+Number.parseFloat(n.getPropertyValue("border-top-width"));return{contextStyle:Dt.map(i=>`${i}:${n.getPropertyValue(i)}`).join(";"),paddingSize:a,borderSize:l,boxSizing:s}}function Be(o,n=1,s){var a;C||(C=document.createElement("textarea"),document.body.appendChild(C));const{paddingSize:l,borderSize:r,boxSizing:i,contextStyle:x}=Tt(o);C.setAttribute("style",`${x};${At}`),C.value=o.value||o.placeholder||"";let p=C.scrollHeight;const b={};i==="border-box"?p=p+r:i==="content-box"&&(p=p-l),C.value="";const d=C.scrollHeight-l;if(Se(n)){let f=d*n;i==="border-box"&&(f=f+l+r),p=Math.max(f,p),b.minHeight=`${f}px`}if(Se(s)){let f=d*s;i==="border-box"&&(f=f+l+r),p=Math.min(f,p)}return b.height=`${p}px`,(a=C.parentNode)==null||a.removeChild(C),C=void 0,b}const Nt=Je({id:{type:String,default:void 0},size:Qe,disabled:Boolean,modelValue:{type:ne([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:ne([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:_e},prefixIcon:{type:_e},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:ne([Object,Array,String]),default:()=>et({})}}),Mt={[re]:o=>se(o),input:o=>se(o),change:o=>se(o),focus:o=>o instanceof FocusEvent,blur:o=>o instanceof FocusEvent,clear:()=>!0,mouseleave:o=>o instanceof MouseEvent,mouseenter:o=>o instanceof MouseEvent,keydown:o=>o instanceof Event,compositionstart:o=>o instanceof CompositionEvent,compositionupdate:o=>o instanceof CompositionEvent,compositionend:o=>o instanceof CompositionEvent},Ot=["role"],Rt=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],Lt=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],Ht=ke({name:"ElInput",inheritAttrs:!1}),Kt=ke({...Ht,props:Nt,emits:Mt,setup(o,{expose:n,emit:s}){const a=o,l=tt(),r=at(),i=v(()=>{const e={};return a.containerRole==="combobox"&&(e["aria-haspopup"]=l["aria-haspopup"],e["aria-owns"]=l["aria-owns"],e["aria-expanded"]=l["aria-expanded"]),e}),x=v(()=>[a.type==="textarea"?ce.b():c.b(),c.m(Ae.value),c.is("disabled",B.value),c.is("exceed",Me.value),{[c.b("group")]:r.prepend||r.append,[c.bm("group","append")]:r.append,[c.bm("group","prepend")]:r.prepend,[c.m("prefix")]:r.prefix||a.prefixIcon,[c.m("suffix")]:r.suffix||a.suffixIcon||a.clearable||a.showPassword,[c.bm("suffix","password-clear")]:W.value&&te.value},l.class]),p=v(()=>[c.e("wrapper"),c.is("focus",ee.value)]),b=Vt({excludeKeys:v(()=>Object.keys(i.value))}),{form:d,formItem:f}=ot(),{inputId:ue}=nt(a,{formItemContext:f}),Ae=st(),B=lt(),c=Ie("input"),ce=Ie("textarea"),L=q(),_=q(),Q=k(!1),D=k(!1),H=k(!1),pe=k(),K=q(a.inputStyle),P=v(()=>L.value||_.value),{wrapperRef:De,isFocused:ee,handleFocus:j,handleBlur:U}=kt(P,{afterBlur(){var e;a.validateEvent&&((e=f==null?void 0:f.validate)==null||e.call(f,"blur").catch(u=>Fe()))}}),de=v(()=>{var e;return(e=d==null?void 0:d.statusIcon)!=null?e:!1}),T=v(()=>(f==null?void 0:f.validateState)||""),fe=v(()=>T.value&&rt[T.value]),Te=v(()=>H.value?it:ut),Ne=v(()=>[l.style,a.inputStyle]),ve=v(()=>[a.inputStyle,K.value,{resize:a.resize}]),F=v(()=>ct(a.modelValue)?"":String(a.modelValue)),W=v(()=>a.clearable&&!B.value&&!a.readonly&&!!F.value&&(ee.value||Q.value)),te=v(()=>a.showPassword&&!B.value&&!a.readonly&&!!F.value&&(!!F.value||ee.value)),V=v(()=>a.showWordLimit&&!!b.value.maxlength&&(a.type==="text"||a.type==="textarea")&&!B.value&&!a.readonly&&!a.showPassword),ae=v(()=>F.value.length),Me=v(()=>!!V.value&&ae.value>Number(b.value.maxlength)),Oe=v(()=>!!r.suffix||!!a.suffixIcon||W.value||a.showPassword||V.value||!!T.value&&de.value),[Re,Le]=$t(L);pt(_,e=>{if(He(),!V.value||a.resize!=="both")return;const u=e[0],{width:y}=u.contentRect;pe.value={right:`calc(100% - ${y+15+6}px)`}});const N=()=>{const{type:e,autosize:u}=a;if(!(!Ve||e!=="textarea"||!_.value))if(u){const y=ze(u)?u.minRows:void 0,Y=ze(u)?u.maxRows:void 0,Ce=Be(_.value,y,Y);K.value={overflowY:"hidden",...Ce},$(()=>{_.value.offsetHeight,K.value=Ce})}else K.value={minHeight:Be(_.value).minHeight}},He=(e=>{let u=!1;return()=>{var y;if(u||!a.autosize)return;((y=_.value)==null?void 0:y.offsetParent)===null||(e(),u=!0)}})(N),M=()=>{const e=P.value,u=a.formatter?a.formatter(F.value):F.value;!e||e.value===u||(e.value=u)},oe=async e=>{Re();let{value:u}=e.target;if(a.formatter&&(u=a.parser?a.parser(u):u),!D.value){if(u===F.value){M();return}s(re,u),s("input",u),await $(),M(),Le()}},me=e=>{s("change",e.target.value)},he=e=>{s("compositionstart",e),D.value=!0},ye=e=>{var u;s("compositionupdate",e);const y=(u=e.target)==null?void 0:u.value,Y=y[y.length-1]||"";D.value=!zt(Y)},be=e=>{s("compositionend",e),D.value&&(D.value=!1,oe(e))},Ke=()=>{H.value=!H.value,ge()},ge=async()=>{var e;await $(),(e=P.value)==null||e.focus()},je=()=>{var e;return(e=P.value)==null?void 0:e.blur()},Ue=e=>{Q.value=!1,s("mouseleave",e)},We=e=>{Q.value=!0,s("mouseenter",e)},xe=e=>{s("keydown",e)},Ye=()=>{var e;(e=P.value)==null||e.select()},we=()=>{s(re,""),s("change",""),s("clear"),s("input","")};return G(()=>a.modelValue,()=>{var e;$(()=>N()),a.validateEvent&&((e=f==null?void 0:f.validate)==null||e.call(f,"change").catch(u=>Fe()))}),G(F,()=>M()),G(()=>a.type,async()=>{await $(),M(),N()}),dt(()=>{!a.formatter&&a.parser,M(),$(N)}),n({input:L,textarea:_,ref:P,textareaStyle:ve,autosize:ft(a,"autosize"),focus:ge,blur:je,select:Ye,clear:we,resizeTextarea:N}),(e,u)=>vt((m(),E("div",le(t(i),{class:t(x),style:t(Ne),role:e.containerRole,onMouseenter:We,onMouseleave:Ue}),[h(" input "),e.type!=="textarea"?(m(),E(J,{key:0},[h(" prepend slot "),e.$slots.prepend?(m(),E("div",{key:0,class:g(t(c).be("group","prepend"))},[X(e.$slots,"prepend")],2)):h("v-if",!0),w("div",{ref_key:"wrapperRef",ref:De,class:g(t(p))},[h(" prefix slot "),e.$slots.prefix||e.prefixIcon?(m(),E("span",{key:0,class:g(t(c).e("prefix"))},[w("span",{class:g(t(c).e("prefix-inner"))},[X(e.$slots,"prefix"),e.prefixIcon?(m(),I(t(O),{key:0,class:g(t(c).e("icon"))},{default:S(()=>[(m(),I(Z(e.prefixIcon)))]),_:1},8,["class"])):h("v-if",!0)],2)],2)):h("v-if",!0),w("input",le({id:t(ue),ref_key:"input",ref:L,class:t(c).e("inner")},t(b),{type:e.showPassword?H.value?"text":"password":e.type,disabled:t(B),formatter:e.formatter,parser:e.parser,readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.label,placeholder:e.placeholder,style:e.inputStyle,form:a.form,onCompositionstart:he,onCompositionupdate:ye,onCompositionend:be,onInput:oe,onFocus:u[0]||(u[0]=(...y)=>t(j)&&t(j)(...y)),onBlur:u[1]||(u[1]=(...y)=>t(U)&&t(U)(...y)),onChange:me,onKeydown:xe}),null,16,Rt),h(" suffix slot "),t(Oe)?(m(),E("span",{key:1,class:g(t(c).e("suffix"))},[w("span",{class:g(t(c).e("suffix-inner"))},[!t(W)||!t(te)||!t(V)?(m(),E(J,{key:0},[X(e.$slots,"suffix"),e.suffixIcon?(m(),I(t(O),{key:0,class:g(t(c).e("icon"))},{default:S(()=>[(m(),I(Z(e.suffixIcon)))]),_:1},8,["class"])):h("v-if",!0)],64)):h("v-if",!0),t(W)?(m(),I(t(O),{key:1,class:g([t(c).e("icon"),t(c).e("clear")]),onMousedown:yt(t(bt),["prevent"]),onClick:we},{default:S(()=>[z(t(ht))]),_:1},8,["class","onMousedown"])):h("v-if",!0),t(te)?(m(),I(t(O),{key:2,class:g([t(c).e("icon"),t(c).e("password")]),onClick:Ke},{default:S(()=>[(m(),I(Z(t(Te))))]),_:1},8,["class"])):h("v-if",!0),t(V)?(m(),E("span",{key:3,class:g(t(c).e("count"))},[w("span",{class:g(t(c).e("count-inner"))},A(t(ae))+" / "+A(t(b).maxlength),3)],2)):h("v-if",!0),t(T)&&t(fe)&&t(de)?(m(),I(t(O),{key:4,class:g([t(c).e("icon"),t(c).e("validateIcon"),t(c).is("loading",t(T)==="validating")])},{default:S(()=>[(m(),I(Z(t(fe))))]),_:1},8,["class"])):h("v-if",!0)],2)],2)):h("v-if",!0)],2),h(" append slot "),e.$slots.append?(m(),E("div",{key:1,class:g(t(c).be("group","append"))},[X(e.$slots,"append")],2)):h("v-if",!0)],64)):(m(),E(J,{key:1},[h(" textarea "),w("textarea",le({id:t(ue),ref_key:"textarea",ref:_,class:t(ce).e("inner")},t(b),{tabindex:e.tabindex,disabled:t(B),readonly:e.readonly,autocomplete:e.autocomplete,style:t(ve),"aria-label":e.label,placeholder:e.placeholder,form:a.form,onCompositionstart:he,onCompositionupdate:ye,onCompositionend:be,onInput:oe,onFocus:u[2]||(u[2]=(...y)=>t(j)&&t(j)(...y)),onBlur:u[3]||(u[3]=(...y)=>t(U)&&t(U)(...y)),onChange:me,onKeydown:xe}),null,16,Lt),t(V)?(m(),E("span",{key:0,style:gt(pe.value),class:g(t(c).e("count"))},A(t(ae))+" / "+A(t(b).maxlength),7)):h("v-if",!0)],64))],16,Ot)),[[mt,e.type!=="hidden"]])}});var jt=xt(Kt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const Ut=wt(jt);var Wt=Object.defineProperty,Yt=Object.getOwnPropertyDescriptor,Xt=(o,n,s,a)=>{for(var l=a>1?void 0:a?Yt(n,s):n,r=o.length-1,i;r>=0;r--)(i=o[r])&&(l=(a?i(n,s,l):i(l))||l);return a&&l&&Wt(n,s,l),l};let ie=class extends Ct{constructor(){super(...arguments);Ee(this,"input","")}get code(){return`
        <script setup>
        import { ref } from 'vue';
        const input = ref('')
        <\/scripts>

        <template>
          <p>input: {{ input }}</p>
          <el-input v-model="input" placeholder="请输入内容"></el-input>
          <!--
            --等价于
            -- <el-input :value="input" @input="input = $event" placeholder="请输入内容"></el-input>
            -->
        </template>
        `}};ie=Xt([Et({components:{PCodeBlockDisplay:Pe}})],ie);const Zt=w("br",null,null,-1),qt=w("br",null,null,-1),Gt=w("br",null,null,-1),Jt=w("br",null,null,-1);function Qt(o,n,s,a,l,r){const i=It,x=_t,p=Ut,b=Pe;return m(),E(J,null,[z(x,{title:"v-model",column:1},{default:S(()=>[z(i,{label:"用法:"},{default:S(()=>[R(" 在表单输入元素或组件上创建双向绑定 ")]),_:1}),z(i,{label:"适用范围"},{default:S(()=>[R(A(`<input>
          <select>
          <textarea>
          <component> // 自定义组件
          `))]),_:1}),z(i,{label:"修饰符"},{default:S(()=>[Zt,R(" .lazy - 监听 change 事件而不是 input"),qt,R(" .number - 将输入的合法字符串转为数字"),Gt,R(" .trim - 移除输入内容两端空格"),Jt]),_:1})]),_:1}),z(b,{code:o.code,title:"VModel.vue",toc:"language-html"},{default:S(()=>[w("div",null,[w("p",null,"input: "+A(o.input),1),z(p,{modelValue:o.input,"onUpdate:modelValue":n[0]||(n[0]=d=>o.input=d),placeholder:"请输入内容"},null,8,["modelValue"])])]),_:1},8,["code"])],64)}const ua=St(ie,[["render",Qt]]);export{ua as default};
